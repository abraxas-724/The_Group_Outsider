<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <link rel="stylesheet" href="css/base-responsive.css" />
  <title>组外人 · 开始</title>
  <link rel="stylesheet" href="css/start-login.css" />
  <link rel="stylesheet" href="css/save-load-panel.css" />
</head>

<body class="page-start">
  <div class="bg-gradient"></div>
  <canvas id="bg-canvas"></canvas>
  <div class="bg-noise"></div>

  <div class="ui-shell">
    <h1 class="site-title fade-in-up">THE GROUP OUTSIDER</h1>
    <section class="glass-panel fade-in-up fade-delay-1" aria-labelledby="menu-title">
      <h2 id="menu-title"
        style="margin:0;font-size:1.1rem;letter-spacing:.25em;font-weight:600;color:var(--clr-text-mid);text-transform:uppercase;">
        MAIN MENU</h2>
      <div class="menu-stack fade-in-up fade-delay-2">
        <button class="menu-btn-neo" id="start-new-game">开始新游戏</button>
        <button class="menu-btn-neo" id="load-game-menu">加载存档</button>
        <button class="menu-btn-neo" id="achievements-button">行为记录</button>
        <button class="menu-btn-neo" id="mini-game-button">小游戏模式</button>
        <button class="menu-btn-neo" id="about-button">关于我们</button>
        <button class="menu-btn-neo" id="open-settings">设置</button>
      </div>
      <div class="section-sep"></div>
      <p class="footer-hint">ALPHA BUILD · MENU</p>
    </section>
  </div>

  <!-- 统一样式的存/读档面板（复用游戏内部结构 & class 名） -->
  <div id="save-load-overlay" class="hidden sl-mode-load" aria-hidden="true">
    <div class="sl-panel" role="dialog" aria-modal="true" aria-labelledby="menu-title">
      <div class="sl-header">
        <h2 id="menu-title">读取存档</h2>
        <div class="sl-header-actions">
          <button id="close-button" class="sl-btn sl-ghost" title="关闭">✕</button>
        </div>
      </div>
      <div class="sl-hint" id="sl-hint">单击槽位：读取。删除需确认。</div>
      <div class="sl-slots" id="slot-list"></div>
      <div class="sl-footer">本地存档 (最多 6 个槽位)</div>
    </div>
  </div>

  <!-- 内嵌设置面板 (扩展版，与游戏内一致) -->
  <div id="settings-overlay" class="sl-hidden" aria-hidden="true">
    <div class="sl-panel" style="width:clamp(640px,78vw,1180px);max-height:84vh;padding:26px 28px 30px;gap:20px;"
      role="dialog" aria-modal="true" aria-labelledby="settings-title-inline">
      <div class="sl-header" style="margin-bottom:4px;">
        <h2 id="settings-title-inline" style="font-size:1.05rem;letter-spacing:.25em;">设置 SETTINGS</h2>
        <div class="sl-header-actions">
          <button id="st-close" class="sl-btn sl-ghost" title="关闭">✕</button>
        </div>
      </div>
      <div class="sl-hint" style="margin-top:-4px;">即时生效 · 本地保存 · 存档会包含设置快照</div>
      <div class="settings-grid-inline three-cols" style="overflow:auto;">
        <div class="setting-card-inline"
          style="display:flex;flex-direction:column;gap:10px;padding:14px 16px 16px;background:#1f262d;border:1px solid #2b3643;border-radius:14px;">
          <h3 style="margin:0;font-size:.78rem;letter-spacing:.12em;font-weight:600;color:#e2e8f0;">文本 & 自动</h3>
          <label style="font-size:.6rem;display:flex;flex-direction:column;gap:4px;">文本速度 <input id="st-text-speed"
              type="range" min="10" max="120" value="35"></label>
          <div style="font-size:.55rem;">当前: <span id="st-text-speed-val">35</span> ms/字符</div>
          <label style="font-size:.6rem;display:flex;align-items:center;gap:6px;"> <input id="st-skip-read"
              type="checkbox"> 已读瞬显</label>
          <label style="font-size:.6rem;display:flex;align-items:center;gap:6px;"> <input id="st-auto-mode"
              type="checkbox"> 自动播放</label>
          <label style="font-size:.6rem;display:flex;flex-direction:column;gap:4px;">自动间隔 <input id="st-auto-interval"
              type="range" min="800" max="4000" step="100" value="1800"></label>
          <div style="font-size:.55rem;">间隔: <span id="st-auto-interval-val">1800</span> ms</div>
          <label style="font-size:.6rem;display:flex;flex-direction:column;gap:4px;">对话框透明度 <input id="st-dlg-opacity"
              type="range" min="0.4" max="1" step="0.05" value="0.8"></label>
          <div style="font-size:.55rem;">透明度: <span id="st-dlg-opacity-val">0.8</span></div>
        </div>
        <div class="setting-card-inline"
          style="display:flex;flex-direction:column;gap:10px;padding:14px 16px 16px;background:#1f262d;border:1px solid #2b3643;border-radius:14px;">
          <h3 style="margin:0;font-size:.78rem;letter-spacing:.12em;font-weight:600;color:#e2e8f0;">音量 Volume</h3>
          <label style="font-size:.6rem;display:flex;flex-direction:column;gap:4px;">主音量 <input id="st-vol-master"
              type="range" min="0" max="100" value="80"></label>
          <label style="font-size:.6rem;display:flex;flex-direction:column;gap:4px;">环境音 <input id="st-vol-amb"
              type="range" min="0" max="100" value="60"></label>
          <button id="st-audio-mute" class="sl-btn sl-ghost"
            style="font-size:.6rem;align-self:flex-start;">快速静音</button>
        </div>
        <!-- 主题设置已按需求移除 -->
        <div class="setting-card-inline"
          style="display:flex;flex-direction:column;gap:10px;padding:14px 16px 16px;background:#1f262d;border:1px solid #2b3643;border-radius:14px;">
          <h3 style="margin:0;font-size:.78rem;letter-spacing:.12em;font-weight:600;color:#e2e8f0;">数据 Data</h3>
          <button id="st-reset-default" class="sl-btn sl-ghost" style="font-size:.6rem;">恢复默认设置</button>
          <button id="st-clear-read" class="sl-btn sl-ghost" style="font-size:.6rem;">清除已读标记</button>
          <button id="st-clear-all" class="sl-btn delete" style="font-size:.6rem;">清除全部数据</button>
          <p style="margin:4px 0 0;font-size:.55rem;line-height:1.3;color:#94a3b8;">清除包含账号、存档、已读标记与设置。</p>
        </div>
      </div>
      <div class="sl-footer"
        style="text-align:left;display:flex;justify-content:space-between;align-items:center;gap:12px;flex-wrap:wrap;margin-top:2px;">
        <span style="font-size:.55rem;opacity:.75;">THE GROUP OUTSIDER · INLINE SETTINGS (EXPANDED)</span>
        <div style="display:flex;gap:8px;flex-wrap:wrap;">
          <button id="st-close-2" class="sl-btn sl-ghost">关闭</button>
        </div>
      </div>
    </div>
  </div>

  <script type="module" src="js/startMenu.js"></script>
  <script src="js/start-inline-init.js"></script>
</body>

</html>
